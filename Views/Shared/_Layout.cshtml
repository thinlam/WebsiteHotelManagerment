<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>@ViewData["Title"] - WebsiteHotelManagerment</title>
	<link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
	<link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
	<link rel="stylesheet" href="~/WebsiteHotelManagerment.styles.css" asp-append-version="true" />
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
</head>
<body class="@(User.IsInRole(SD.Role_Admin) ? "admin" : "")">

	@if (User.IsInRole(SD.Role_Admin))
	{
		<header class="header-admin">
			<aside class="sidebar bg-light" style="width: 250px; min-height: 100vh; position: fixed; left: 0; top: 0; z-index: 1000;">
				<div class="sidebar-header text-center py-4">
					<a asp-area="" asp-controller="Home" asp-action="Index">
						<img src="~/images/logo_hotel.png" alt="Logo" style="max-width: 150px;" />
					</a>
					<h6 class="fw-bold mt-2">Bean Hotel</h6>
				</div>
				<nav class="nav flex-column px-3">
					<a class="nav-link text-dark @(Url.ActionContext.RouteData.Values["controller"]?.ToString() == "Home" ? "fw-bold text-primary" : "")" asp-controller="Home" asp-action="Index">
						<i class="bi bi-house-door-fill me-2"></i> Tổng Quan
					</a>
					<a class="nav-link text-dark @(Url.ActionContext.RouteData.Values["controller"]?.ToString() == "NhanVien" ? "fw-bold text-primary" : "")"
					   asp-controller="NhanVien" asp-action="Index">
						<i class="bi bi-people-fill me-2"></i> Quản Lý Nhân Viên
					</a>

					<a class="nav-link text-dark @(Url.ActionContext.RouteData.Values["controller"]?.ToString() == "Room" ? "fw-bold text-primary" : "")" asp-controller="Room" asp-action="Index">
						<i class="bi bi-info-circle-fill me-2"></i> Quản Lý Phòng
					</a>
					<a class="nav-link text-dark @(Url.ActionContext.RouteData.Values["controller"]?.ToString() == "Contact" ? "fw-bold text-primary" : "")" asp-controller="Contact" asp-action="Index">
						<i class="bi bi-calendar-check-fill me-2"></i> Quản Lý Liên Hệ
					</a>
					<a class="nav-link text-dark @(Url.ActionContext.RouteData.Values["controller"]?.ToString() == "Order" ? "fw-bold text-primary" : "")"
					   asp-controller="Order" asp-action="Index">
						<i class="bi bi-list-check me-2"></i> Quản Lý Đơn Hàng
					</a>


					<a class="nav-link text-dark @(Url.ActionContext.RouteData.Values["controller"]?.ToString() == "Report" ? "fw-bold text-primary" : "")" asp-controller="Report" asp-action="PaymentStats">
						<i class="bi bi-cone-striped me-2"></i> Quản Lý Thống Kê
					</a>
					<a class="nav-link text-dark @(Url.ActionContext.RouteData.Values["controller"]?.ToString() == "Review" ? "fw-bold text-primary" : "")" asp-controller="Review" asp-action="Index">
						<i class="bi bi-chat-dots-fill me-2"></i> Quản Lý Đánh Giá
					</a>
					<!-- DỊCH VỤ CÓ THỂ ẨN/HIỆN -->
					<a class="nav-link text-dark" data-bs-toggle="collapse" href="#dichvuSubmenu" role="button" aria-expanded="false" aria-controls="dichvuSubmenu">
						<i class="bi bi-tools me-2"></i> Quản Lý Dịch Vụ
					</a>

					<div class="collapse ps-3 @(Url.ActionContext.RouteData.Values["controller"]?.ToString() == "DichVuThueXe" || Url.ActionContext.RouteData.Values["controller"]?.ToString() == "Massage" ? "show" : "")" id="dichvuSubmenu">
						<a class="nav-link text-dark @(Url.ActionContext.RouteData.Values["controller"]?.ToString() == "DichVuThueXe" ? "fw-bold text-primary" : "")"
						   asp-controller="DichVuThueXe" asp-action="Index">
							<i class="fa-solid fa-car-side me-2"></i> Thuê Xe
						</a>
						<a class="nav-link text-dark @(Url.ActionContext.RouteData.Values["controller"]?.ToString() == "Massage" ? "fw-bold text-primary" : "")"
						   asp-controller="Massage" asp-action="Index">
							<i class="fa-solid fa-spa me-2"></i> Massage
						</a>
					</div>


				</nav>
			</aside>
			<div class="d-flex justify-content-end" style="position: fixed; top: 0; left: 250px; right: 0; background-color: #FFCC33; height: 70px; padding-right: 20px; z-index: 1100;">
				<partial name="_LoginPartial"></partial>
			</div>
		</header>
	}

	else
	{
		<header class="header">
			<div class="top-header">
				<div class="container d-flex justify-content-between align-items-center py-2">
					<h6 class="fw-bold mb-0">Chào mừng đến với Bean Hotel</h6>
					<li class="nav-item list-unstyled">
						<a class="text-center nav-link @(Url.ActionContext.RouteData.Values["controller"]?.ToString() == "Contact" ? "active" : "")"
						   asp-controller="Contact" asp-action="Add">Liên Hệ</a>
					</li>
				</div>
			</div>
			<nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm py-3">
				<div class="container">
					<a class="navbar-brand" asp-area="" asp-controller="Home" asp-action="Index">
						<img src="~/images/logo_hotel.png" alt="Logo" class="logo-header" />
					</a>
					<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target=".navbar-collapse"
							aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
						<span class="navbar-toggler-icon"></span>
					</button>
					<div class="navbar-collapse collapse d-sm-inline-flex justify-content-between">
						<ul class="navbar-nav flex-grow-1 nav-menu">
							<li class="nav-item">
								<a class="text-black nav-link @(Url.ActionContext.RouteData.Values["controller"]?.ToString() == "Home" ? "active" : "")"
								   asp-controller="Home" asp-action="Index">Trang Chủ</a>
							</li>
							<li class="nav-item">
								<a class="text-black nav-link @(Url.ActionContext.RouteData.Values["controller"]?.ToString() == "About" ? "active" : "")"
								   asp-controller="About" asp-action="Index">Giới Thiệu</a>
							</li>
							<li class="nav-item">
								<a class="text-black nav-link @(Url.ActionContext.RouteData.Values["controller"]?.ToString() == "Room" ? "active" : "")"
								   asp-controller="Room" asp-action="Index">Phòng</a>
							</li>
							<li class="nav-item">
								<a class="text-black nav-link @(Url.ActionContext.RouteData.Values["controller"]?.ToString() == "Services" ? "active" : "")"
								   asp-controller="Services" asp-action="Index">Dịch Vụ</a>
							</li>
							<li class="nav-item">
								<a class="text-black nav-link @(Url.ActionContext.RouteData.Values["controller"]?.ToString() == "Album" ? "active" : "")"
								   asp-controller="Album" asp-action="Index">Thư Viện Ảnh</a>
							</li>
							<li class="nav-item dropdown">
								<a class="nav-link dropdown-toggle text-black" href="#" id="reviewDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
									<i class="bi bi-star-fill me-1"></i> Đánh Giá
								</a>
								<ul class="dropdown-menu" aria-labelledby="reviewDropdown">
									<li><a class="dropdown-item" asp-controller="Review" asp-action="Create">Gửi Đánh Giá</a></li>
									<li><a class="dropdown-item" asp-controller="Review" asp-action="MyReviews">Đánh Giá Của Tôi</a></li>
								</ul>
							</li>
						</ul>
					</div>
					<div class="d-flex justify-content-end">
						<partial name="_LoginPartial"></partial>
					</div>
				</div>
			</nav>
		</header>

		@if (User.Identity.IsAuthenticated && !User.IsInRole(SD.Role_Admin))
		{
			<div id="chatBubble" title="Chat với Admin">
				<i class="fas fa-comments"></i>
			</div>
			<script>
				document.getElementById('chatBubble').addEventListener('click', function () {
					window.location.href = '@Url.Action("Index", "Chat", new { userId = "admin-user-id-thay-doi" })';
				});
			</script>
		}
	}

	<!-- Thêm class admin-content khi là admin -->
	<main class="@(User.IsInRole(SD.Role_Admin) ? "admin-content" : "")">
		<div class="main-content">
			@RenderBody()
		</div>
	</main>

	@if (!User.IsInRole(SD.Role_Admin))
	{
		<footer class="bg-dark text-light pt-5 pb-4">
			<div class="px-60">
				<div class="row">
					<div class="col-md-4 mb-3">
						<h6 class="fw-bold">HOTLINE HỖ TRỢ</h6>
						<p>1900 6750</p>
						<h6 class="fw-bold mt-3">EMAIL HỖ TRỢ</h6>
						<p>support@sapo.vn</p>
					</div>
					<div class="col-md-4 mb-3">
						<h6 class="fw-bold">ĐĂNG KÝ NHẬN TIN</h6>
						<form class="d-flex">
							<input type="email" class="form-control me-2" style="width: 60%" placeholder="Email của bạn" />
							<button class="btn btn-warning">ĐĂNG KÝ</button>
						</form>
						<div class="mt-3">
							<h6 class="fw-bold">KẾT NỐI CHÚNG TÔI</h6>
							<a href="#" class="text-light me-2"><i class="fab fa-facebook-f"></i></a>
							<a href="#" class="text-light me-2"><i class="fab fa-twitter"></i></a>
							<a href="#" class="text-light me-2"><i class="fab fa-instagram"></i></a>
							<a href="#" class="text-light"><i class="fab fa-youtube"></i></a>
						</div>
					</div>
					<div class="col-md-4 mb-3">
						<h6 class="fw-bold"><i class="fas fa-home"></i> HỆ THỐNG CHI NHÁNH</h6>
						<div class="row">
							<div class="small">
								<p><i class="fas fa-map-marker-alt"></i> Hotel HCM: 772 Điện Biên Phủ<br />Hotline: 0982.847.974</p>
								<p><i class="fas fa-map-marker-alt"></i> Hotel Phú Quốc: 147 Trần Hưng Đạo<br />Hotline: 0903.307.447</p>
								<p><i class="fas fa-map-marker-alt"></i> Hotel Đà Lạt: 94 Hoàng Hoa Thám<br />Hotline: 0263.306.997</p>
							</div>
						</div>
					</div>
				</div>
				<hr class="bg-light" />
				<div class="row">
					<div class="col-md-4 small">
						<img src="~/images/logo_hotel.png" alt="Bean Hotel" class="mb-2" style="height: 40px" />
						<p>Chúng tôi cung cấp chỗ nghỉ thanh lịch và đầy phong cách với Wifi miễn phí...</p>
					</div>
					<div class="col-md-4 small">
						<h6 class="fw-bold">BÀI VIẾT MỚI</h6>
						<ul class="list-unstyled">
							<li>
								10 xu hướng ngành khách sạn 2022 <br />
								<small>06/12/2022</small>
							</li>
							<li>
								Những điều kiêng kỵ khi ở khách sạn <br />
								<small>06/12/2022</small>
							</li>
							<li>
								Ý nghĩa việc đặt chocolate lên gối <br />
								<small>06/12/2022</small>
							</li>
						</ul>
					</div>
					<div class="col-md-4 small">
						<h6 class="fw-bold">CHÍNH SÁCH</h6>
						<ul class="list-unstyled">
							<li>Chính sách nhận phòng</li>
							<li>Chính sách trả phòng</li>
							<li>Chính sách thanh toán</li>
							<li>Chính sách bảo mật</li>
						</ul>
						<h6 class="fw-bold mt-3">HÌNH THỨC THANH TOÁN</h6>
						<img src="cards.png" alt="Thanh toán" class="img-fluid" />
					</div>
				</div>
				<div class="text-center mt-3 small">
					© Bản quyền thuộc về <b>Mr. Bean</b> | Cung cấp bởi Sapo
				</div>
			</div>
		</footer>
	}

	<!-- Bootstrap Bundle JS (Popper + Bootstrap) -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>

	<!-- Nếu bạn dùng jQuery cho các chức năng khác thì giữ, không thì bỏ -->
	<script src="~/lib/jquery/dist/jquery.min.js"></script>

	<script src="~/js/site.js" asp-append-version="true"></script>

	@await RenderSectionAsync("Scripts", required: false)
</body>
</html>
