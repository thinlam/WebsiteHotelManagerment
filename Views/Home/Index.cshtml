@{
	ViewData["Title"] = "Trang Chủ";
}

@if (User.IsInRole(SD.Role_Admin))
{
	<style>
		.card {
			border: none;
			border-radius: 15px;
			box-shadow: 0 0 15px rgba(0,0,0,0.05);
			padding: 20px;
			margin-bottom: 20px;
		}

		.circle-progress {
			height: 100px;
			width: 100px;
		}
	</style>

	<div class="pl-260">
		<div class="container py-4">
			<div class="row">

				<!-- Doanh số hàng tuần -->
				<div class="col-md-6 col-lg-3">
					<div class="card">
						<h6>Doanh số hàng tuần <span data-bs-toggle="tooltip" title="Bao gồm doanh số online + offline">?</span></h6>
						<h3>21.200.000VNĐ</h3>
						<span class="text-success fw-bold">+3.5%</span>
						<canvas id="barChart" height="80"></canvas>
					</div>
				</div>

				<!-- Tổng đơn hàng -->
				<div class="col-md-6 col-lg-3">
					<div class="card">
						<h6>Tổng đơn hàng</h6>
						<h3>58.4K</h3>
						<span class="text-primary">+13.6%</span>
						<canvas id="lineChart" height="80"></canvas>
					</div>
				</div>

				<!-- Thị phần -->
				<div class="col-md-6 col-lg-3">
					<div class="card">
						<h6>Thị phần</h6>
						<canvas id="doughnutChart" height="120"></canvas>
					</div>
				</div>

				<!-- Thời tiết -->
				<div class="col-md-6 col-lg-3">
					<div class="card text-center">
						<h6>Thời tiết</h6>
						<div class="display-6">☀️</div>
						<h5>Thành phố Hồ Chí Minh</h5>
						<span class="text-warning">Nắng</span><br />
						<small>Lượng mưa: 50%</small>
						<div class="h4 mt-2">31°</div>
						<small>32° / 25°</small>
					</div>
				</div>

			</div>

			<!-- Dự án đang chạy -->
			<div class="row">
				<div class="col-md-6">
					<div class="card">
						<div class="d-flex justify-content-between">
							<h6>Dự án đang chạy</h6>
							<select class="form-select w-auto">
								<option selected>Thời gian làm việc</option>
								<option>Tiến độ</option>
							</select>
						</div>
						<ul class="list-group list-group-flush mt-3">
							<li class="list-group-item d-flex justify-content-between">
								<span> Phòng Đôi <span class="badge bg-primary">38%</span></span>
								<span>12:50:00 <div class="progress" style="width: 100px;"><div class="progress-bar" style="width:38%"></div></div></span>
							</li>
							<li class="list-group-item d-flex justify-content-between">
								<span> Phòng Đơn <span class="badge bg-success">79%</span></span>
								<span>25:20:00 <div class="progress" style="width: 100px;"><div class="progress-bar bg-success" style="width:79%"></div></div></span>
							</li>
							<li class="list-group-item d-flex justify-content-between">
								<span> Phòng VIP <span class="badge bg-info">90%</span></span>
								<span>58:20:00 <div class="progress" style="width: 100px;"><div class="progress-bar bg-info" style="width:90%"></div></div></span>
							</li>
						</ul>
					</div>
				</div>

				<!-- Tổng doanh số -->
				<div class="col-md-6">
					<div class="card">
						<div class="d-flex justify-content-between">
							<h6>Tổng doanh số</h6>
							<select class="form-select w-auto">
								<option>Tháng 1</option>
								<option>Tháng 2</option>
								<option>Tháng 3</option>
							</select>
						</div>
						<canvas id="totalSalesChart" height="150"></canvas>
					</div>
				</div>
			</div>
		</div>
	</div>
}
else
{
	<div class="hero-section mt-115">
		<img src="~/images/slider_1.png" alt="Alternate Text" class="slider" style="width: 100%; height: 550px;" />
	</div>

	<section class="section-container">
		<div class="section-image">
			<img src="~/images/about.png" alt="Lễ tân Bean Hotel" />
		</div>
		<div class="info-box">
			<h2>Bean Hotel</h2>
			<h3>Giới thiệu về chúng tôi</h3>
			<p>
				Là khách sạn 5 sao đẳng cấp quốc tế, tọa lạc tại giao điểm của bốn quận chính,
				nơi được xem như trái tim và trung tâm của TP. Hồ Chí Minh. Với hệ thống
				phòng tiêu chuẩn và phòng hạng sang thiết kế đẹp mắt và trang nhã được chú trọng
				tới từng chi tiết sẽ đem lại sự tiện nghi và thoải mái tối đa cho quý khách —
				dù là thời gian nghỉ ngơi thư giãn hay trong chuyến công tác...
			</p>
			<a href="/About" class="btn-gold">Xem thêm</a>
		</div>
	</section>

	<section class="py-5 text-center">
		<div class="container">
			<h2 class="fw-bold mb-5">Mọi Người Nói Gì?</h2>
			<div id="testimonialCarousel" class="carousel slide" data-bs-ride="carousel">
				<div class="carousel-inner">
					<div class="carousel-item active">
						<div class="row">
							<div class="col-md-4">
								<img src="https://randomuser.me/api/portraits/men/10.jpg" class="rounded-circle mb-3" width="80" />
								<p>“Ngay cả người quyền năng nhất cũng không thể kiểm soát được những đoạn văn mù mịt — một cuộc sống gần như không có ngữ pháp...”</p>
								<p class="fst-italic">— Nguyễn Văn An</p>
							</div>
							<div class="col-md-4">
								<img src="https://randomuser.me/api/portraits/men/20.jpg" class="rounded-circle mb-3" width="80" />
								<p>“Khi cô ấy đến những ngọn đồi đầu tiên của dãy núi Italic, cô nhìn lại lần cuối về phía đường chân trời...”</p>
								<p class="fst-italic">— Trần Hữu Dũng</p>
							</div>
							<div class="col-md-4">
								<img src="https://randomuser.me/api/portraits/women/21.jpg" class="rounded-circle mb-3" width="80" />
								<p>“Một con sông nhỏ tên là Duden chảy ngang qua nơi đó và cung cấp sự sống cần thiết cho vùng đất...”</p>
								<p class="fst-italic">— Lê Thị Mai</p>
							</div>
						</div>
					</div>

					<div class="carousel-item active">
						<div class="row">
							<div class="col-md-4">
								<img src="https://randomuser.me/api/portraits/men/10.jpg" class="rounded-circle mb-3" width="80" />
								<p>“Ngay cả người quyền năng nhất cũng không thể kiểm soát được những đoạn văn mù mịt — một cuộc sống gần như không có ngữ pháp...”</p>
								<p class="fst-italic">— Nguyễn Văn An</p>
							</div>
							<div class="col-md-4">
								<img src="https://randomuser.me/api/portraits/men/20.jpg" class="rounded-circle mb-3" width="80" />
								<p>“Khi cô ấy đến những ngọn đồi đầu tiên của dãy núi Italic, cô nhìn lại lần cuối về phía đường chân trời...”</p>
								<p class="fst-italic">— Trần Hữu Dũng</p>
							</div>
							<div class="col-md-4">
								<img src="https://randomuser.me/api/portraits/women/21.jpg" class="rounded-circle mb-3" width="80" />
								<p>“Một con sông nhỏ tên là Duden chảy ngang qua nơi đó và cung cấp sự sống cần thiết cho vùng đất...”</p>
								<p class="fst-italic">— Lê Thị Mai</p>
							</div>
						</div>
					</div>

				</div>

				<!-- Navigation -->
				<button class="carousel-control-prev" style="left: -100px; position: absolute;" type="button" data-bs-target="#testimonialCarousel" data-bs-slide="prev">
					<span class="carousel-control-prev-icon bg-dark rounded-circle"></span>
				</button>
				<button class="carousel-control-next" style="right: -100px; position: absolute;" type="button" data-bs-target="#testimonialCarousel" data-bs-slide="next">
					<span class="carousel-control-next-icon bg-dark rounded-circle"></span>
				</button>
			</div>
		</div>
	</section>

	<section class="container text-center my-5">
		<h3 class="fw-bold mb-4">DỊCH VỤ CỦA CHÚNG TÔI</h3>
		<div class="row mb-4">

			<!-- Đặt vé -->
			<div class="col-md-4">
				<div class="mb-3">
					<img src="https://cdn-icons-png.flaticon.com/512/1946/1946436.png" width="50" alt="vé tàu" />
				</div>
				<h5 class="fw-bold">Đặt vé tàu đi Lý Sơn</h5>
				<p class="text-muted">
					Dịch vụ đặt vé tàu đi du lịch tại Lý Sơn chỉ có duy nhất tại Nhà nghỉ Sao Mai cảng Sa Kỳ chúng tôi. Sao Mai rất hân hạnh được du lịch cùng bạn.
				</p>
			</div>

			<!-- Phòng Vip -->
			<div class="col-md-4">
				<div class="mb-3">
					<img src="https://cdn-icons-png.flaticon.com/512/1828/1828884.png" width="50" alt="vip" />
				</div>
				<h5 class="fw-bold">Phòng Vip</h5>
				<p class="text-muted">
					Hệ thống phòng VIP của Nhà nghỉ Sao Mai có diện tích rộng, đầy đủ tiện nghi: Tivi, tủ lạnh, điều hòa, truyền hình cáp. Đảm bảo phòng lịch sự, vệ sinh sạch sẽ.
				</p>
			</div>

			<!-- Phòng 3 giường đôi -->
			<div class="col-md-4">
				<div class="mb-3">
					<img src="https://cdn-icons-png.flaticon.com/512/1828/1828885.png" width="50" alt="3 giường" />
				</div>
				<h5 class="fw-bold">Phòng 3 giường đôi</h5>
				<p class="text-muted">
					Hệ thống phòng 3 giường đôi là một trong những loại phòng đặc biệt của Nhà nghỉ Sao Mai. Phòng rộng, thoáng mát, rất tiện lợi cho gia đình bạn.
				</p>
			</div>
		</div>

		<!-- Hình ảnh -->
		<div class="row mb-5">
			<div class="col-md-4">
				<img src="https://khachsan.webmatrix.vn/wp-content/uploads/2017/06/dao-ly-son-1.png" class="img-fluid rounded" style="width: 400px; height: 250px;" alt="Lý Sơn" />
			</div>
			<div class="col-md-4">
				<img src="https://khachsan.webmatrix.vn/wp-content/uploads/2017/06/65-2.jpg	" class="img-fluid rounded" style="width: 400px; height: 250px;" alt="Phòng vip" />
			</div>
			<div class="col-md-4">
				<img src="https://khachsan.webmatrix.vn/wp-content/uploads/2017/06/ksan-1.jpg" class="img-fluid rounded" style="width: 400px; height: 250px;" alt="Phòng 3 giường" />
			</div>
		</div>

		<!-- Thống kê -->
		<div class="row text-center">
			<div class="col-6 col-md-3">
				<h4 class="fw-bold">2530</h4>
				<p class="text-muted">DU KHÁCH</p>
			</div>
			<div class="col-6 col-md-3">
				<h4 class="fw-bold">895</h4>
				<p class="text-muted">KHÁCH HÀNG TRONG THÁNG</p>
			</div>
			<div class="col-6 col-md-3">
				<h4 class="fw-bold">64</h4>
				<p class="text-muted">TỈNH THÀNH CẢ NƯỚC</p>
			</div>
			<div class="col-6 col-md-3">
				<h4 class="fw-bold">25</h4>
				<p class="text-muted">NHÂN VIÊN PHỤC VỤ</p>
			</div>
		</div>
	</section>


	<section class="container my-5">
		<h2 class="text-center fw-bold mb-4">HIỂU BIẾT KHÁCH SẠN</h2>
		<div class="row">
			<div class="col-md-4 mb-4">
				<div class="card border-0 shadow-sm">
					<img src="~/images/ban-cong-view-bien.png" style="height: 250px;" class="card-img-top" alt="...">
					<div class="card-body">
						<h5 class="card-title fw-bold">10 xu hướng thịnh hành trong ngành khách sạn 2022</h5>
						<p class="card-text text-muted small">
							Không gian ngoài trời mở rộng hơn, nâng cấp công nghệ để hạn chế tiếp xúc là xu hướng mới...
						</p>
						<div class="d-flex justify-content-between align-items-center small">
							<span>By Bean Hotel</span>
							<span>06/12/2022</span>
						</div>
						<a href="#" class="btn btn-warning btn-sm mt-2">Đọc Thêm</a>
					</div>
				</div>
			</div>
			<div class="col-md-4 mb-4">
				<div class="card border-0 shadow-sm">
					<img src="~/images/khach-san-hoi-an-view-bien-15.png" style="height: 250px;" class="card-img-top" alt="...">
					<div class="card-body">
						<h5 class="card-title fw-bold">Những điều kiêng kị khi ở khách sạn mà bạn nên biết</h5>
						<p class="card-text text-muted small">
							Để không gặp nhiều phiền toái và giữ an toàn cho bản thân trong chuyến đi, bạn nên tìm hiểu...
						</p>
						<div class="d-flex justify-content-between align-items-center small">
							<span>By Bean Hotel</span>
							<span>06/12/2022</span>
						</div>
						<a href="#" class="btn btn-warning btn-sm mt-2">Đọc Thêm</a>
					</div>
				</div>
			</div>
			<div class="col-md-4 mb-4">
				<div class="card border-0 shadow-sm">
					<img src="~/images/unnamed.png" class="card-img-top" style="height: 250px;" alt="...">
					<div class="card-body">
						<h5 class="card-title fw-bold">Ý nghĩa việc khách sạn để chocolate lên gối khi dọn phòng</h5>
						<p class="card-text text-muted small">
							Dịch vụ này nhận được nhiều lời khen từ khách thuê phòng hơn bất kỳ hoạt động nào khác...
						</p>
						<div class="d-flex justify-content-between align-items-center small">
							<span>By Bean Hotel</span>
							<span>06/12/2022</span>
						</div>
						<a href="#" class="btn btn-warning btn-sm mt-2">Đọc Thêm</a>
					</div>
				</div>
			</div>
		</div>
	</section>
}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<div id="chatContainer"></div>

@section Scripts {
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

	<script>
		$(function () {
			// Lấy userId chat với admin (bạn thay cho đúng userId bạn muốn chat)
			var userId = '@User.FindFirst(System.Security.Claims.ClaimTypes.NameIdentifier)?.Value';

			$.get('@Url.Action("ChatWidget", "Chat")', { userId: userId }, function (html) {
				$('#chatContainer').html(html);
			});
		});
	</script>
}

<script>
	// Weekly Sales - Bar Chart
	new Chart(document.getElementById('barChart'), {
		type: 'bar',
		data: {
			labels: ["M", "T", "W", "T", "F", "S", "S"],
			datasets: [{
				label: "Sales",
				data: [12, 19, 3, 5, 2, 3, 7],
				backgroundColor: '#0d6efd'
			}]
		},
		options: { plugins: { legend: { display: false } }, scales: { y: { display: false }, x: { display: false } } }
	});

	// Total Orders - Line Chart
	new Chart(document.getElementById('lineChart'), {
		type: 'line',
		data: {
			labels: ["Tháng 1", "Tháng 2", "Tháng 3", "Tháng 4", "Tháng 5"],
			datasets: [{
				label: "Orders",
				data: [20, 40, 60, 80, 100],
				fill: true,
				borderColor: "#0d6efd",
				tension: 0.4
			}]
		},
		options: { plugins: { legend: { display: false } } }
	});

	// Market Share - Doughnut
	new Chart(document.getElementById('doughnutChart'), {
		type: 'doughnut',
		data: {
			labels: ['Phòng Đôi', 'Phòng Đơn', 'Phòng VIP'],
			datasets: [{
				data: [33, 29, 20],
				backgroundColor: ['#0d6efd', '#00c6ff', '#ced4da']
			}]
		},
		options: {
			cutout: '70%',
			plugins: { legend: { position: 'bottom' } }
		}
	});

	// Total Sales
	new Chart(document.getElementById('totalSalesChart'), {
		type: 'line',
		data: {
			labels: ["Tuần 1", "Tuần 2", "Tuần 3", "Tuần 4"],
			datasets: [{
				data: [60, 80, 65, 125],
				borderColor: "#0d6efd",
				fill: true,
				tension: 0.4
			}]
		},
		options: { plugins: { legend: { display: false } } }
	});
</script>
